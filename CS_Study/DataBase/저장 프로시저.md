# 저장 프로시저

일련의 쿼리를 마치 하나의 함수처럼 실행하기 위한 쿼리의 집합 

```sql
CREATE OR REPLACE PROCEDURE 프로시저명(변수명1 IN 데이터타입, 변수명2 OUT 데이터타입) -- 인자 값은 필수 아님
IS
[
변수명1 데이터타입;
변수명2 데이터타입;
..
]
BEGIN
 필요한 기능; -- 인자값 활용 가능
END;

EXEC 프로시저명; -- 호출
```

### 프로시저 장점

- 최적화와 캐시
    - 프로시저의 최초 실행 시 최적화 상태로 컴파일이 되며, 그 이후 프로시저 캐시에 저장된다.
    - 해다 프로세서가 여러번 사용 될 때, 다시 컴파일  작업을 거치지 않고 캐시에서 가져오게 된다
- 유지 보수
    - 작업이 변경될 때, 다른 작업은 건드리지 않고 프로시저 내부에서 수정만 하면된다
- 트래픽 감소
    - 클라이언트가 직접 sql문을 작성하지 않고, 프로시저명에 매개변수만 담아 전달하면 된다
    - 클라이언트와 서버간 네트워크 상 트래픽이 감소된다
- 보안
    - 프로시저 내에서 참조중인 테이블의 접근을 막을 수 있다.

### 프로시저 단점

- 호환성
    - 구문 규칙이 sql/psm 표준과의 호환성이 낮기 때문에 코드자산으로의 재사용성이 나쁘다
- 성능
    - 문자 또는  숫자 연산에서 c 나 java보다 느리다
- 디버깅
    - 에러가 발생했을때 디버깅이 힘들다
